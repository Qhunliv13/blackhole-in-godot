[gd_scene load_steps=8 format=3 uid="uid://c8an6h8772tyt"]

[ext_resource type="Script" uid="uid://deot4m8oeq8pf" path="res://scripts/Blackhole3DBackground.gd" id="1_3dbackground"]
[ext_resource type="Shader" uid="uid://bpxdvvjfaifcw" path="res://shaders/blackhole_fullscreen.gdshader" id="2_fullscreen_shader"]
[ext_resource type="Texture2D" uid="uid://8qdym43vddh7" path="res://textures/space_background.webp" id="3_y5yx7"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_fullscreen"]
shader = ExtResource("2_fullscreen_shader")
shader_parameter/mouse_x = 0.5
shader_parameter/mouse_y = 0.5
shader_parameter/time = 0.0
shader_parameter/camera_position = Vector3(0, 0, 15)
shader_parameter/camera_forward = Vector3(0, 0, -1)
shader_parameter/camera_up = Vector3(0, 1, 0)
shader_parameter/camera_right = Vector3(1, 0, 0)
shader_parameter/camera_fov = 75.0
shader_parameter/use_3d_camera = 1.0
shader_parameter/front_view = 0.0
shader_parameter/top_view = 0.0
shader_parameter/camera_roll = 0.0
shader_parameter/render_black_hole = 1.0
shader_parameter/mouse_control = 0.0
shader_parameter/fov_scale = 1.0
shader_parameter/auto_fade_lensing = 1.0
shader_parameter/adisk_enabled = 1.0
shader_parameter/adisk_particle = 1.0
shader_parameter/adisk_height = 0.5
shader_parameter/adisk_lit = 10.0
shader_parameter/adisk_density_v = 1.0
shader_parameter/adisk_density_h = 1.0
shader_parameter/adisk_noise_scale = 5.0
shader_parameter/adisk_noise_lod = 12.0
shader_parameter/adisk_speed = 1.0000000475
shader_parameter/adisk_multi_noise = 0.0
shader_parameter/adisk_outer_radius = 12.0
shader_parameter/cube_enabled = 1.0
shader_parameter/cube_position = Vector3(3, 0, 0)
shader_parameter/cube_size = Vector3(1, 1, 1)
shader_parameter/cube_color = Vector3(0.4, 0.8, 1)
shader_parameter/cube_emission_strength = 0.5
shader_parameter/doppler_enabled = 1.0
shader_parameter/doppler_strength = 0.8
shader_parameter/beaming_enabled = 1.0
shader_parameter/beaming_strength = 2.0
shader_parameter/jet_enabled = 1.0
shader_parameter/jet_length = 25.0
shader_parameter/jet_width = 0.5
shader_parameter/jet_intensity = 1.0
shader_parameter/jet_rotation_speed = 2.0
shader_parameter/jet_burst_frequency = 0.5
shader_parameter/jet_noise_octaves = 5.0
shader_parameter/jet_color = Vector3(0.3, 0.6, 1)
shader_parameter/hawking_enabled = 1.0
shader_parameter/hawking_intensity = 1.0
shader_parameter/hawking_frequency = 1.5
shader_parameter/gravitational_redshift_enabled = 1.0
shader_parameter/gravitational_redshift_strength = 1.0
shader_parameter/photon_sphere_enabled = 0.0
shader_parameter/photon_sphere_intensity = 3.0
shader_parameter/photon_sphere_color = Vector3(1, 0.95, 0.8)
shader_parameter/isco_enabled = 0.0
shader_parameter/isco_intensity = 5.0
shader_parameter/isco_width = 0.3
shader_parameter/isco_color = Vector3(1, 0.9, 0.7)
shader_parameter/corona_enabled = 0.0
shader_parameter/corona_height = 2.0
shader_parameter/corona_intensity = 1.5
shader_parameter/corona_color = Vector3(0.9, 0.95, 1)
shader_parameter/temperature_gradient_enabled = 1.0
shader_parameter/disk_temperature_power = 0.75
shader_parameter/secondary_images_enabled = 0.0
shader_parameter/max_ray_loops = 500
shader_parameter/qpo_enabled = 1.0
shader_parameter/qpo_frequency = 3.0
shader_parameter/qpo_amplitude = 0.15
shader_parameter/time_dilation_enabled = 1.0
shader_parameter/time_dilation_strength = 1.0
shader_parameter/frame_dragging_enabled = 1.0
shader_parameter/black_hole_spin = 0.7
shader_parameter/dragging_strength = 1.0
shader_parameter/spiral_arms_enabled = 1.0
shader_parameter/spiral_arms_count = 2.0
shader_parameter/spiral_tightness = 1.5
shader_parameter/spiral_strength = 0.8
shader_parameter/hot_spots_enabled = 1.0
shader_parameter/hot_spots_count = 3.0
shader_parameter/hot_spots_intensity = 2.0
shader_parameter/hot_spots_speed = 1.0
shader_parameter/lod_level = 0.0
shader_parameter/distance_to_blackhole = 0.0
shader_parameter/contrast = 1.2
shader_parameter/brightness = 1.0
shader_parameter/hdr_enabled = 0.0
shader_parameter/hdr_log_compression = 1.0
shader_parameter/hdr_exposure = 1.0
shader_parameter/hdr_tonemapping_mode = 1.0
shader_parameter/hdr_white_point = 4.0
shader_parameter/clahe_enabled = 0.0
shader_parameter/clahe_strength = 0.5

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_y5yx7"]
panorama = ExtResource("3_y5yx7")

[sub_resource type="Sky" id="Sky_y5yx7"]
sky_material = SubResource("PanoramaSkyMaterial_y5yx7")

[sub_resource type="Environment" id="Environment_keguh"]
background_mode = 2
sky = SubResource("Sky_y5yx7")

[node name="Blackhole3DBackground" type="Node3D"]
script = ExtResource("1_3dbackground")

[node name="fowardCamera" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 20)

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1.0000001, 0, 0, 0, 1.0000001, 0, 0, 10)

[node name="BackgroundCamera" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1.0000001, 0, 0, 0, 1.0000001, 0, 0, 10)

[node name="UI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="FullscreenQuad" type="ColorRect" parent="UI"]
material = SubResource("ShaderMaterial_fullscreen")
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 0)

[node name="ForegroundRect" type="TextureRect" parent="UI"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
stretch_mode = 1

[node name="IconPanel" type="Panel" parent="UI"]
visible = false
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -200.0
offset_top = -200.0
offset_right = 200.0
offset_bottom = 200.0
grow_horizontal = 2
grow_vertical = 2

[node name="VBox" type="VBoxContainer" parent="UI/IconPanel"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 10.0
offset_top = 10.0
offset_right = -10.0
offset_bottom = -10.0
grow_horizontal = 2
grow_vertical = 2

[node name="IconLabel" type="Label" parent="UI/IconPanel/VBox"]
layout_mode = 2
text = "Icon Selection (Press 1)"
horizontal_alignment = 1

[node name="IconOption" type="OptionButton" parent="UI/IconPanel/VBox"]
layout_mode = 2

[node name="IconDisplay" type="TextureRect" parent="UI/IconPanel/VBox"]
custom_minimum_size = Vector2(300, 300)
layout_mode = 2
size_flags_vertical = 3
expand_mode = 1
stretch_mode = 5

[node name="ApplyButton" type="Button" parent="UI/IconPanel/VBox"]
layout_mode = 2
text = "Confirm and Switch (Restart)"

[node name="ScrollContainer" type="ScrollContainer" parent="UI"]
layout_mode = 1
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_left = 20.0
offset_top = -600.0
offset_right = 320.0
offset_bottom = -20.0
grow_vertical = 0

[node name="VBoxContainer" type="VBoxContainer" parent="UI/ScrollContainer"]
layout_mode = 2
size_flags_horizontal = 3

[node name="Label" type="Label" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
text = "Black Hole"
horizontal_alignment = 1

[node name="HSeparator" type="HSeparator" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2

[node name="RenderBlackHoleCheck" type="CheckBox" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
text = "Render Black Hole"

[node name="AccretionDiskCheck" type="CheckBox" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
text = "Accretion Disk"

[node name="AccretionDiskMultiNoiseCheck" type="CheckBox" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
text = "Multi-Noise Detail (Slow)"

[node name="AutoFadeLensingCheck" type="CheckBox" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
text = "Auto Fade Lensing"

[node name="HSeparator2" type="HSeparator" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2

[node name="AccretionDiskHeightLabel" type="Label" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
text = "Disk Height: 0.50"

[node name="AccretionDiskHeightSlider" type="HSlider" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
min_value = 0.1
max_value = 1.0
step = 0.01
value = 0.5

[node name="AccretionDiskBrightnessLabel" type="Label" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
text = "Disk Brightness: 10.0"

[node name="AccretionDiskBrightnessSlider" type="HSlider" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
min_value = 1.0
value = 10.0

[node name="AccretionDiskOuterRadiusLabel" type="Label" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
text = "Disk Outer Radius: 12.00"

[node name="AccretionDiskOuterRadiusSlider" type="HSlider" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
min_value = 5.0
max_value = 20.0
step = 0.1
value = 12.0

[node name="HSeparator3" type="HSeparator" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2

[node name="CheckBox5" type="CheckBox" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
button_pressed = true
text = "Emissive Cube"

[node name="Label7" type="Label" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
text = "Cube Emission: 2.00"

[node name="HSlider6" type="HSlider" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
min_value = 0.1
max_value = 10.0
step = 0.1
value = 2.0

[node name="HSeparator4" type="HSeparator" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2

[node name="CheckBox6" type="CheckBox" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
button_pressed = true
text = "Doppler Effect"

[node name="Label8" type="Label" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
text = "Doppler Strength: 0.80"

[node name="HSlider7" type="HSlider" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
max_value = 2.0
step = 0.1
value = 0.8

[node name="CheckBox7" type="CheckBox" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
button_pressed = true
text = "Relativistic Beaming"

[node name="Label9" type="Label" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
text = "Beaming Strength: 3.0"

[node name="HSlider8" type="HSlider" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
min_value = 1.0
max_value = 5.0
step = 0.1
value = 3.0

[node name="HSeparator5" type="HSeparator" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2

[node name="CheckBox8" type="CheckBox" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
button_pressed = true
text = "Black Hole Jets"

[node name="Label10" type="Label" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
text = "Jet Intensity: 5.0"

[node name="HSlider9" type="HSlider" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
min_value = 0.1
max_value = 20.0
step = 0.1
value = 5.0

[node name="Label12" type="Label" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
text = "Jet Rotation: 2.0"

[node name="HSlider11" type="HSlider" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
max_value = 5.0
step = 0.1
value = 2.0

[node name="Label13" type="Label" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
text = "Jet Burst: 0.5"

[node name="HSlider12" type="HSlider" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
min_value = 0.1
max_value = 3.0
step = 0.1
value = 0.5

[node name="CheckBox9" type="CheckBox" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
text = "Hawking Radiation (Theory)"

[node name="Label11" type="Label" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
text = "Radiation Intensity: 1.0"

[node name="HSlider10" type="HSlider" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
min_value = 0.1
max_value = 3.0
step = 0.1
value = 1.0

[node name="HSeparator6" type="HSeparator" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2

[node name="CheckBox10" type="CheckBox" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
button_pressed = true
text = "Gravitational Redshift"

[node name="Label14" type="Label" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
text = "Redshift Strength: 1.0"

[node name="HSlider13" type="HSlider" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
max_value = 2.0
step = 0.1
value = 1.0

[node name="HSeparator7" type="HSeparator" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2

[node name="CheckBox11" type="CheckBox" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
text = "Photon Sphere (Theory)"

[node name="Label15" type="Label" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
text = "Photon Intensity: 3.0"

[node name="HSlider14" type="HSlider" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
min_value = 0.1
max_value = 10.0
step = 0.1
value = 3.0

[node name="CheckBox12" type="CheckBox" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
text = "ISCO Ring (Theory)"

[node name="Label16" type="Label" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
text = "ISCO Intensity: 5.0"

[node name="HSlider15" type="HSlider" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
min_value = 0.1
max_value = 10.0
step = 0.1
value = 5.0

[node name="HSeparator8" type="HSeparator" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2

[node name="CheckBox13" type="CheckBox" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
text = "X-ray Corona (Theory)"

[node name="Label17" type="Label" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
text = "Corona Intensity: 1.5"

[node name="HSlider16" type="HSlider" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
min_value = 0.1
max_value = 5.0
step = 0.1
value = 1.5

[node name="CheckBox14" type="CheckBox" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
button_pressed = true
text = "Temperature Gradient"

[node name="CheckBox15" type="CheckBox" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
button_pressed = true
text = "Quasi-Periodic Oscillations"

[node name="Label18" type="Label" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
text = "QPO Frequency: 3.0 Hz"

[node name="HSlider17" type="HSlider" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
min_value = 0.1
max_value = 10.0
step = 0.1
value = 3.0

[node name="CheckBox16" type="CheckBox" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
text = "Secondary Images (Slow)"

[node name="HSeparator9" type="HSeparator" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2

[node name="CheckBox17" type="CheckBox" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
button_pressed = true
text = "Frame Dragging (Kerr)"

[node name="Label19" type="Label" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
text = "Black Hole Spin: 0.7"

[node name="HSlider18" type="HSlider" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
max_value = 0.998
step = 0.01
value = 0.7

[node name="CheckBox18" type="CheckBox" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
button_pressed = true
text = "Time Dilation"

[node name="Label20" type="Label" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
text = "Dilation Strength: 1.0"

[node name="HSlider19" type="HSlider" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
max_value = 2.0
step = 0.1
value = 1.0

[node name="HSeparator10" type="HSeparator" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2

[node name="CheckBox19" type="CheckBox" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
button_pressed = true
text = "Spiral Arms"

[node name="Label21" type="Label" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
text = "Spiral Count: 2"

[node name="HSlider20" type="HSlider" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
min_value = 1.0
max_value = 5.0
value = 2.0

[node name="Label22" type="Label" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
text = "Spiral Strength: 0.8"

[node name="HSlider21" type="HSlider" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
max_value = 2.0
step = 0.1
value = 0.8

[node name="CheckBox20" type="CheckBox" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
button_pressed = true
text = "Hot Spots"

[node name="Label23" type="Label" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
text = "Hot Spots Count: 3"

[node name="HSlider22" type="HSlider" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
min_value = 1.0
max_value = 8.0
value = 3.0

[node name="Label24" type="Label" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
text = "Hot Spots Intensity: 2.0"

[node name="HSlider23" type="HSlider" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
min_value = 0.5
max_value = 5.0
step = 0.1
value = 2.0

[node name="HSeparator11" type="HSeparator" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2

[node name="PresetLabel" type="Label" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
text = "Parameter Presets"
horizontal_alignment = 1

[node name="M87Button" type="Button" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
text = "Set to M87* Parameters"

[node name="SgrAButton" type="Button" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
text = "Set to Sgr A* Parameters"

[node name="UltraQualityButton" type="Button" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
text = "Ultra Quality Mode"

[node name="HSeparator12" type="HSeparator" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2

[node name="Label25" type="Label" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
text = "Post Processing"
horizontal_alignment = 1

[node name="Label26" type="Label" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
text = "Contrast: 1.2"

[node name="HSlider24" type="HSlider" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
min_value = 0.5
max_value = 2.0
step = 0.1
value = 1.2

[node name="Label27" type="Label" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
text = "Brightness: 1.0"

[node name="HSlider25" type="HSlider" parent="UI/ScrollContainer/VBoxContainer"]
layout_mode = 2
min_value = 0.5
max_value = 1.5
step = 0.05
value = 1.0

[node name="DistanceLabel" type="Label" parent="UI"]
layout_mode = 1
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -380.0
offset_top = 20.0
offset_right = -20.0
offset_bottom = 60.0
grow_horizontal = 0
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_colors/font_shadow_color = Color(0, 0, 0, 0.5)
theme_override_constants/shadow_offset_x = 2
theme_override_constants/shadow_offset_y = 2
theme_override_font_sizes/font_size = 18
text = "Distance: 0.0"
horizontal_alignment = 2

[node name="ControlsHintLabel" type="Label" parent="UI"]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -400.0
offset_top = -40.0
offset_right = 400.0
offset_bottom = -10.0
grow_horizontal = 2
grow_vertical = 0
theme_override_colors/font_color = Color(1, 1, 1, 0.7)
theme_override_colors/font_shadow_color = Color(0, 0, 0, 0.5)
theme_override_constants/shadow_offset_x = 1
theme_override_constants/shadow_offset_y = 1
theme_override_font_sizes/font_size = 12
text = "Controls: WASD/QE to move, Shift to speed up (10x), ESC to unlock mouse, 1/2 for UI, TAB to switch language"
horizontal_alignment = 1

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_keguh")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.8660254, 0.5, 0, -0.5, 0.8660254, 0, 10.506476, 15.326165)
